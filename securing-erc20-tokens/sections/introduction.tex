% !TEX root = ../main.tex

\section{Introduction}
\label{sect:introduction}

Ethereum blockchain project was launched in 2014 by announcing Ether (ETH) as its protocol-level cryptocurrency \cite{EthGit}, \cite{EIP150}. It allows users to build decentralized applications (DApps) in the form of smart contracts. DApps can use ETH or issue their own custom currency-like tokens. The Ethereum community accepted the most popular token standard called ERC20\footnote{\url{https://eips.ethereum.org/EIPS/eip-20}}. It is standardized version of smart contracts and allows other applications (\eg crypto-wallets, DApps, \etc) to interact and use exposed methods. ERC20 does not provide a concrete implementation of methods and only guidelines on how each method should be implemented (such as name of the method, parameters, return types). This gives developers flexibility of coding based on their DApps needs. In practice however, development of smart contracts has been proven to be error-prone, and as a result, smart contracts are often riddled with security vulnerabilities. Previous research showed that at about 45\% of existing smart contracts are vulnerable~\cite{MakSm}. From about 2.5M\footnote{[2020-05-03] \url{https://reports.aleth.io}} smart contracts on the Ethereum network, 260K\footnote{[2020-05-03] \url{https://etherscan.io/tokens}} are ERC20 tokens which may be vulnerable to security threats. Additionally, tokens are financial assets and some of them have considerable value that exceed the value of ETH itself (\eg PAX Gold\footnote{[2020-05-02] \url{https://www.paxos.com/paxgold/}}, MKR\footnote{[2020-05-02] \url{https://makerdao.com/en/}} and XIN\footnote{[2020-05-02] \url{https://mixin.one/}}). They might be audited by trusted parties and existence of security threats may lead to hesitation of auditors.\newline

\noindent\textbf{Contributions.} Similar to any new technology, different layers (\eg Application, Contract, Data, \etc) expose security vulnerabilities that caused more than US\$100M financial loss in the Ethereum smart contracts\cite{DAO1}, \cite{PeckShield}, \cite{PartiyMultiSig}, \cite{MyEthWallet}. This motivates us to (i) examine ERC20 vulnerabilities and their mitigation techniques, (ii) propose a Solidity\footnote{The most common programming language in Ethereum to develop smart contracts. \url{https://solidity.readthedocs.io}} code that addresses discussed vulnerabilities and can be used as a template to deploy secure ERC20 tokens, (iii) integrate smart contract best practices to optimize performance of the code for commercial uses (\eg ICOs), (iv) use auditing tools to compare security of the code with the top ten Ethereum tokens, (v) provide list of potential threats to assist auditors for faster assessment of associated risks to ERC20 tokens and eventually automate the auditing process.